<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<link rel="stylesheet" href="stylesbookmark.css">
	<script defer src="jsbookmarkmanager.js"></script>
</head>

<body>
	<div class="container mt-4">
		<div class="row" id="header">
			<div class="col-md-9">
				<h1 class="text-muted">Bookmarker</h1>
			</div>
			<div class="col-md-3">
				<p>Welcome: <span id="activeUser" style="font-style: italic;"></span></p>
				<p id="logout" class="text text-primary" onclick="logOut()">Logout</p>
			</div>
		</div>
		<hr>
		<div class="row border rounded bg-secondary-subtle straighten">
			<div class="col p-3">
				<h3>Bookmark Your Favorite Sites</h3>
				<div class="row">
					<div class="col pb-3">
						<form id="bookmarkForm">
							<div class="form-check">
								<label for="siteName" class="form-label"><b>Site Name</b></label>
								<input list="webSites" type="text" class="form-control" id="siteName"
									placeholder="Website Name">
								<datalist id="webSites">
								</datalist><br>
								<label for="URL" class="form-label"><b>Site URL</b></label>
								<input list="webSiteURLs" type="text" class="form-control" id="URL"
									placeholder="Website URL">
								<datalist id="webSiteURLs">
								</datalist>
							</div>
							<button id="bigbutton" type="button" class="btn btn-primary mt-3 p-3 px-4" style="font-size: 1.5rem;"
								onclick="addBookmark()">Submit</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="row border rounded bg-secondary-subtle straighten">
			<div class="col">
				<h3>Your Bookmarks</h3>
				<div id="bookmarks">
					<p class="placeholder opacity-100">No bookmarks yet</p>
				</div>
			</div>
		</div>
		<hr>
		<p id="footer">&copy; 2022 Bookmarker, Inc.</p>
	</div>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			let webSites = document.getElementById('webSites');
			let webSiteURLs = document.getElementById('webSiteURLs');
			let bookmarks = JSON.parse(localStorage.getItem('bookmarks'));
			if (bookmarks) {
				bookmarks.forEach(bookmark => {
					let webSiteOption = document.createElement('option');
					webSiteOption.value = bookmark.name;
					webSiteOption.textContent = bookmark.name;
					webSites.appendChild(webSiteOption);
					let webSiteURLOption = document.createElement('option');
					webSiteURLOption.value = bookmark.url;
					webSiteURLOption.textContent = bookmark.url;
					webSiteURLs.appendChild(webSiteURLOption);
				});
			}
		});
		window.onload = function () {
			displayBookmarks();
			const activeUser = document.getElementById('activeUser');
			const user = JSON.parse(localStorage.getItem('Active User'));
			activeUser.textContent = user && user.fullName ? user.fullName : 'Guest';
		}
	</script>
</body>

</html>