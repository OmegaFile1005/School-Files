<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="jstaskmanager1.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <script defer src="jstaskmanager1.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col text-center mb-3">
                <img src="checklist.png" id="img" alt="checklist">
            </div>
        </div>
        <div class="row">
            <div class="col text-end mb-3">
                <p>Welcome: <span id="activeUser" style="font-style: italic;"></span></p>
                <a href="index.html" class="text text-primary" onclick="logout()">Logout</a>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <h5>My list of tasks</h5>
                    </div>
                    <div class="card-body row">
                        <div class="col-md-11">
                            <input type="text" id="task" class="form-control mb-3" placeholder="Task title...">
                        </div>
                        <div class="col">
                            <button type="button" class="btn btn-primary" onclick="addTask()">Add</button>
                        </div>
                        <table class="table table-striped">
                            <tbody id="taskList"></tbody>
                        </table>
                    </div>
                    <div class="card-footer bg bg-info-subtle">
                        <p class="text-center ">Click on a task to set as completed</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col text-center mt-3">
                <button type="button" class="btn btn-success" onclick="showAllTasks()">All</button>
                <button type="button" class="btn btn-success" onclick="showCompletedTasks()">Complete</button>
                <button type="button" class="btn btn-success" onclick="showIncompleteTasks()">Incomplete</button>
                <button type="button" class="btn btn-danger" onclick="clearCompletedTasks()">Remove
                    Completed</button>
            </div>
        </div>
    </div>
    <script>
        window.onload = function () {
            showAllTasks();
            const activeUser = document.getElementById('activeUser');
            const user = JSON.parse(localStorage.getItem('user'));
            if (user && user.fullName) {
                activeUser.textContent = user.fullName;
            } else {
                activeUser.textContent = 'Guest';
            }
        }
    </script>
</body>

</html>